---
sidebar_position: 5
---

# Connector-Datenstruktur

## Einführung \{#introduction}

### Was ist ein Connector? \{#what-is-a-connector}

_Connectors_ spielen eine entscheidende Rolle in Logto. Mit ihrer Hilfe ermöglicht Logto Endbenutzern die passwortlose Registrierung oder Anmeldung sowie die Möglichkeit, sich mit sozialen Konten anzumelden. Mit der zunehmenden Beliebtheit von Websites und Anwendungen ermöglichen passwortlose und soziale Anmeldungen den Nutzern, das Verwalten zahlreicher Konten und Passwörter zu vermeiden.

Folge unseren [Connector-Anleitungen](/connectors), wenn du einen bestehenden Connector einrichten möchtest. Falls du den gewünschten Connector nicht findest, kannst du eigene Connectoren entwickeln, indem du den Leitfäden unter [Entwickle deinen Connector](/logto-oss/develop-your-connector) folgst.

## Zusammensetzung \{#compositions}

Es gibt viele Eigenschaften in den Connector-Daten.

Um das Laden und Aktualisieren der Daten effizienter zu gestalten, speichern wir einen Teil der Connector-Daten, die häufig geändert werden, in der Datenbank und den Rest lokal.

- _Lokaler Speicher_, auch bekannt als [_ConnectorMetadata_](/connectors/connector-data-structure#connectors-remote-storage-connector-db), ist ein Objekt mit festen Eigenschaften wie Logo, Connector-Typ usw. (:face_with_monocle: Schwierigkeiten beim Verständnis dieser Eigenschaften? Keine Sorge, eine detaillierte Erklärung folgt später!)
- _Remote-Speicher_ wird in der Datenbank gespeichert, da diese Daten relativ häufig geändert werden.

## Lokaler Speicher des Connectors: ConnectorMetadata \{#connectors-local-storage-connectormetadata}

### id \{#id}

_id_ ist ein _eindeutiger_ Schlüssel vom Typ String, um einen Connector in Logto zu identifizieren.

Er wird von den Entwicklern jedes Connectors vergeben und in die Datenbank hochgeladen.

### target (Name des Identitätsanbieters) \{#target-identity-provider-name}

_target_ ist ein Kleinbuchstaben-String, um die Quelle der sozialen Identität des Social Connectors zu unterscheiden.

Logto-Benutzer können diese Variable als „Name des Identitätsanbieters“ verstehen.

Zum Beispiel sollte dein _target_ _google_ sein, wenn du dich mit deinem Google-Konto bei Logto anmeldest. Der Wert von _target_ kann ein beliebiger nicht-leerer String sein, aber wir empfehlen, ihn einfach zu halten, da du ihn nicht ändern kannst. Es ist NICHT erlaubt, mehrere Connectoren mit demselben _target_ und derselben Plattform zu haben. Andererseits kannst du Social Connectors für verschiedene Plattformen mit demselben _target_ haben. Zum Beispiel: Wenn Benutzer sich über _WeChat_ auf ihrem Handy anmelden möchten, ist laut _WeChat_ TOU eine native _WeChat_-App erforderlich; gleichzeitig wird eine Web-_WeChat_-App benötigt, um die Anmeldung in Webanwendungen zu ermöglichen. Diese beiden _WeChat_-Apps teilen denselben Identitätsanbieter und sollten dasselbe Target haben.

Wir haben verschiedene Anwendungsfälle und Empfehlungen für Benutzer zusammengefasst, da _target_ ein komplexes Konzept ist.

|                                              | Beispiel                                                                                         | Szenario                                                                                                                         | Ergebnis                                                                                                                                                           | Empfohlen?                                                                                                                                                                                             |
| -------------------------------------------- | ------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Verschiedene IdPs und verschiedene _targets_ | 1. GitHub Connector (target: `github`) <br /> 2. Google Connector (target: `google`)             | Eine App, die sowohl die Anmeldung mit GitHub als auch mit Google-Konto unterstützt.                                             | Häufigster Anwendungsfall.                                                                                                                                         | ✅                                                                                                                                                                                                     |
| Verschiedene IdPs und gleiches _target_      | 1. GitHub Connector (target: `github`) <br /> 2. Google Connector (target: `github`)             | N/A                                                                                                                              | Es ist möglich, dass sich ein Benutzer bei einem Logto-Konto anmeldet, das mit dem GitHub-Konto eines anderen Benutzers erstellt wurde.                            | ❌                                                                                                                                                                                                     |
| Gleicher IdP und verschiedene _targets_      | 1. GitHub Connector (target: `github`) <br /> 2. OAuth GitHub Connector (target: `github_oauth`) | Der GitHub Connector wird für Anwendung A verwendet, während der OAuth GitHub Connector speziell für Anwendung B erstellt wurde. | Die Anmeldung bei Logto über diese beiden verschiedenen Connectoren erstellt immer separate Logto-Konten – auch wenn der Benutzer dasselbe GitHub-Konto verwendet. | Die Aufteilung deines Benutzerpools ist das einzige Szenario, in dem du beide Connectoren benötigst. Es gilt jedoch als Best Practice, zwei separate Mandanten für diesen Anwendungsfall zu erstellen. |
| Gleicher IdP und gleiches _target_           | 1. GitHub Connector (target: `github`) <br /> 2. OAuth GitHub Connector (target: `github`)       | N/A                                                                                                                              | Die Verwendung eines dieser beiden Connectoren kann zum exakt gleichen Ergebnis führen.                                                                            | Zwei Connectoren zu erstellen, die im Grunde dasselbe tun, kann für Endbenutzer verwirrend sein und macht wenig Sinn. Es ist besser, einen Connector zu verwenden, der zu deinem Anwendungsfall passt. |

### type \{#type}

_type_ ist die Eigenschaft, die den Typ des Connectors festhält.

Wir definieren Connectoren anhand ihrer Funktionalität in drei verschiedene Typen:

- _Social_: Connectoren, die mit Zustimmung des Endbenutzers auf Informationen von Drittanbieter-Social-Media zugreifen können.
- _SMS_: Connectoren, die es Endbenutzern ermöglichen, Textnachrichten auf ihrem Handy zu empfangen.
- _Email_: Connectoren, die beim Versenden von E-Mails an Endbenutzer helfen.

### platform \{#platform}

_platform_ wird verwendet, um zu identifizieren, für welche Plattform der Connector gebaut wurde.

_platform_ sollte entweder `null` oder einer der folgenden String-Werte sein:

- _Native_: Connectoren, die NUR für native mobile Apps funktionieren.
- _Web_: Connectoren, die NUR auf Desktop-Webanwendungen funktionieren.
- _Universal_: Connectoren, die sowohl auf mobilen Web-Apps als auch auf Desktop-Web-Apps funktionieren.

:::note
_platform_ von _Email-Connectors_ und _SMS-Connectors_ sollte immer `null` sein.<br/>
NUR _Social-Connectors_ können nicht-NULL _platform_-Werte haben.
:::

### name \{#name}

_name_ ist ein Objekt, dessen Schlüssel i18n-Ländercodes und Werte die Anzeigenamen der Connectoren sind.

### description \{#description}

_description_ ist ebenfalls ein Objekt, dessen Schlüssel i18n-Ländercodes und Werte kurze Connector-Beschreibungen sind.

:::note
Um die i18n-Anzeige auf der Client-Seite zu unterstützen, speichern wir die _name_- (sowie _description_-) Eigenschaften als Map, die Ländercodes als Schlüssel und Namen (bzw. Beschreibung) in lokalen Zeichen als Wert verwendet.
:::

### logo \{#logo}

_logo_ ist eine URL oder ein relativer Pfad zum Logo des Connectors.

### logoDark \{#logodark}

_logoDark_ ist eine _nullable_ URL oder ein relativer Pfad zum Logo des Connectors im Dark Mode.

:::note
_logo_ ist immer erforderlich, _logoDark_ ist optional.

Wir zeigen _logo_ im Light Mode und _logoDark_ im Dark Mode an, falls vorhanden. Andernfalls wird _logo_ auch im Dark Mode angezeigt.
:::

### isStandard \{#isstandard}

_isStandard_ ist ein OPTIONALS boolesches Attribut, um zu kennzeichnen, ob der Social Connector ein „Standard“-Connector ist. Du erkennst einen „Standard“-Connector an seinem wahrheitswertigen `isStandard`-Attribut.

:::note
Logto unterstützt nur „Standard“-Social-Connectors. Das heißt, alle Logto Email- oder SMS-Connectors sind KEINE „Standard“-Connectors.

Logto bezeichnet Connectoren, die auf offenen und standardisierten Protokollen (z. B. OAuth, OIDC, SAML usw.) basieren, als „Standard“-Connectors. Logto-Benutzer können auf jedem Standard-Connector mehrere Instanzen erstellen. Zum Beispiel: Wenn Logto bereits einen OAuth-Standard-Connector bereitstellt, können Benutzer Instanzen wie „OAuth GitHub Connector“, „OAuth Google Connector“ und „OAuth Facebook Connector“ erstellen. Sie basieren alle auf dem Logto OAuth-Standard-Connector.

Wenn du mit dem Connector-Design von Logto vertraut bist: Es kann maximal EIN Email- oder SMS-Connector gleichzeitig existieren, was bedeutet, dass Logto derzeit keine „Standard“-Email- oder SMS-Connectors benötigt.
:::

### readme \{#readme}

_readme_ ist ein relativer Pfad zur README-Markdown-Datei des Connectors, deren Inhalt im „Admin Console“ während der Connector-Einrichtung angezeigt wird.

### configTemplate \{#configtemplate}

_configTemplate_ ist ein relativer Pfad zu einem Konfigurationsbeispiel des Connectors.

## Remote-Speicher des Connectors: _Connector DB_ \{#connectors-remote-storage-_connector-db_}

### id \{#id-1}

_id_, das als Primärschlüssel der Connector-DB dient, ist ein zufällig generierter String-Schlüssel, um den Connector in der Datenbank zu identifizieren.

### connectorId \{#connectorid}

_connectorId_ ist ein String-Schlüssel und die EINZIGE Brücke, um _Connector DB_ und _ConnectorMetadata_ abzugleichen. Für jedes passende Connector-DB-Daten- und Connector-Code-Modul-Paar entspricht _connectorId_ immer [metadata._id_](#id) des Code-Moduls.

### metadata \{#metadata}

_metadata_ ist eine Teilmenge von [ConnectorMetadata](#connectors-local-storage-connectormetadata), die konfigurierbare Attribute wie [_logo_](#logo), [_logoDark_](#logodark), [_target_](#target-identity-provider-name) und [_name_](#name) enthält.

### syncProfile \{#syncprofile}

_syncProfile_ ist ein boolescher Wert, der das Aktualisierungsschema des Benutzerprofils bestimmt, standardmäßig FALSE.

Wenn _syncProfile_ FALSE ist, werden die Basisinformationen des Logto-Benutzers (einschließlich Name und Avatar) nur beim erstmaligen Anmelden über diesen Connector aktualisiert. Andernfalls wird das Logto-Kontoprofil jedes Mal aktualisiert, wenn sich Benutzer über den Connector anmelden.

### config \{#config}

_config_ kann ein beliebiges nicht-leeres Objekt sein.

Hier speichert ein Connector seine Konfiguration. Jeder Connector hat unterschiedliche Eigenschaften in _config_ und sie muss gültig sein (Connectoren haben unterschiedliche Standards für „gültig“), bevor sie in der Datenbank gespeichert werden kann. NUR _config_, die die Gültigkeitsprüfung bestehen, können in die Datenbank übernommen werden, andernfalls wird ein Fehler ausgelöst.

Entwickler sind verpflichtet, beim Entwickeln eigener Connectoren einen _config_-Guard zu implementieren. Siehe [Entwickle deinen Connector](/logto-oss/develop-your-connector) für weitere Details.

Du möchtest _config_-Beispiele sehen? Gehe zu [Connectors](/connectors) oder zur Einstellungsseite des jeweiligen Connectors.

:::note
In der aktuellen Logto-Version kann nur ein _Email/SMS_-Connector gleichzeitig existieren, alle anderen Connectoren desselben Typs werden automatisch gelöscht.

Die Regel, dass nur ein funktionierender Email- oder SMS-Connector existieren darf, gilt nicht für _Social_-Connectors.<br/>
Mit anderen Worten: Du kannst mehrere _Social_-Connectors hinzufügen.
:::

### createdAt \{#createdat}

_createdAt_ ist ein automatisch generierter Zeitstempel-String, um den Zeitpunkt zu verfolgen, an dem ein Connector in der Datenbank erstellt wurde.
